import{P as d,a as N,r as t,h as F,e as D,j as e,i as T,k as O,u as q}from"./index-E8w-6HTq.js";import{L as B}from"./LayoutDashboard-triWywiv.js";import{H as P}from"./SupportDashboard-50pPKL8R.js";import{N as M}from"./ValidationSchema-t1VtQ1M-.js";import{M as S}from"./Profile-BeLCsDpT.js";import{A,a as $,b as E}from"./FontsSupport-DfDtMSc6.js";import"./AiBuilderSupport-Xg48ppJz.js";import"./black-logo-KPU1N9jl.js";import"./AuthSupport-DA0ygfeY.js";function _({type:l,onOpen:i,onClose:o,refreshData:r,fontId:m}){N.defaults.withCredentials=!0;const[u,x]=t.useState(""),[n,a]=t.useState(!0),{toastMessage:s,toastPromise:c,token:g}=F(),v=t.useRef(!1),C=t.useRef(!1);t.useEffect(()=>{i&&l==="create"?(x(""),a(!0)):i&&l==="update"&&N.get(`${D.font}?id=${m}`).then(h=>{x(h.data.data.name),a(h.data.data.is_develope)}).catch(h=>{console.error("Error fetching menu data:",h)})},[i,l,m]);const w=t.useCallback(h=>{if(h.preventDefault(),l==="create"){const p={name:u,isDevelope:n};M.validate(p,{abortEarly:!1}).then(()=>{const f=N.post(D.font,p,{headers:{Authorization:`Bearer ${g}`}});f.then(j=>{v.current=j.data.success}),c(f,{pending:"Adding menu data on progress, please wait..!",success:"Data has been successfully added!",error:"Failed to add data!"},{autoClose:2500,position:"top-center"},()=>{v.current===!0&&(o(),r())}),f.catch(j=>{console.error("Error adding menu data:",j)})}).catch(f=>{f.inner.forEach(j=>{s("error",j.message)})})}else{const p={name:u,isDevelope:n};console.log(p),M.validate(p,{abortEarly:!1}).then(()=>{const f=N.put(`${D.font}?id=${m}`,p,{headers:{Authorization:`Bearer ${g}`}});f.then(j=>{C.current=j.data.success}),c(f,{pending:"Updating menu data on progress, please wait..!",success:"Data has been successfully updated!",error:"Failed to update data!"},{autoClose:2500,position:"top-center"},()=>{C.current===!0&&(o(),r())}),f.catch(j=>{console.error("Error updating menu data:",j)})}).catch(f=>{f.inner.forEach(j=>{s("error",j.message)})})}},[u,n,o,r,s,c,m,g,l]),y=t.useCallback(h=>{h.preventDefault();const p=N.delete(`${D.font}?id=${m}`,{headers:{Authorization:`Bearer ${g}`}});c(p,{pending:"deleting menu data on progress, please wait..!",success:"Data has been successfully deleted!",error:"Failed to delete data!"},{autoClose:2500,position:"top-center"},()=>{o(),r()}),p.catch(f=>{console.error("Error deleting menu data:",f)})},[m,g,o,r,c]);return e.jsx(e.Fragment,{children:l==="delete"?e.jsx(S,{onClose:o,onOpen:i,type:"confirm",titleModal:"Are you sure you want to delete this?",descModal:"Your content will be permanently deleted. This can't be undone.",children:e.jsxs("div",{className:"confirm-dashboard-action",children:[e.jsx("div",{className:"cancel",onClick:o,children:"cancel"}),e.jsx("div",{className:"confirm",onClick:y,children:"delete"})]})}):e.jsx(S,{titleModal:l==="create"?"Insert Font Data":"Update Font Data",onOpen:i,onClose:o,children:e.jsxs("form",{className:"modal-dashboard-form",onSubmit:w,children:[e.jsxs("div",{className:"modal-dashboard-form-group",children:[e.jsxs("label",{htmlFor:"name",children:["Font name ",e.jsx("span",{children:"(Required)"})]}),e.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Access Management",value:u,onChange:h=>x(h.target.value)})]}),e.jsxs("div",{className:"modal-dashboard-form-group",children:[e.jsxs("div",{className:"label",children:["Setting Is Develope ",e.jsx("span",{children:"(Required)"})]}),e.jsxs("div",{className:"check-option",onClick:()=>a(!n),children:[e.jsx("span",{className:"material-symbols-outlined",children:n?"circle":"task_alt"}),e.jsx("div",{className:"text",children:n?"Progress":"Done"})]})]}),e.jsx("button",{type:"submit",children:"Submit"})]})})})}_.propTypes={type:d.string,onOpen:d.bool,onClose:d.func,refreshData:d.func,fontId:d.string};function L({isLoadingDashboard:l,fonts:i,setFontId:o,setIsUpdateModalOpen:r,setIsDeleteModalOpen:m,type:u}){const{search:x}=T();return e.jsxs(e.Fragment,{children:[l&&e.jsx(O,{}),u==="grid"?e.jsx("div",{className:"fonts-man-grid",children:i.filter(n=>{const a=x.toLowerCase();return n.name.toLowerCase().includes(a)}).map(n=>{const a=A({fontId:n.font_id});return e.jsxs("div",{className:"item",children:[e.jsx("div",{className:"item-name",children:n.name}),e.jsx("div",{className:`item-samples ${a}`,children:"AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz"}),e.jsxs("div",{className:"item-action",children:[n.is_develope===!0?e.jsxs("span",{className:"item-action-progress",children:[e.jsx("span",{className:"material-symbols-outlined item-action-icon",children:"sync"}),e.jsx("div",{className:"text",children:"Progress"})]}):null,e.jsx("span",{className:"material-symbols-rounded item-action-edit",onClick:()=>{r(!0),o(n.font_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded item-action-delete",onClick:()=>{m(!0),o(n.font_id)},children:"delete"})]})]},n.font_id)})}):e.jsxs("div",{className:"fonts-man-list",children:[e.jsxs("div",{className:"head",children:[e.jsx("div",{className:"head-col",children:"No"}),e.jsx("div",{className:"head-col",children:"Name"}),e.jsx("div",{className:"head-col",children:"Sample"}),e.jsx("div",{className:"head-col",children:"Develope"}),e.jsx("div",{className:"head-col",children:"Action"})]}),i.filter(n=>{const a=x.toLowerCase();return n.name.toLowerCase().includes(a)}).map((n,a)=>{const s=A({fontId:n.font_id});return e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"body-col",children:a+1}),e.jsx("div",{className:"body-col",children:n.name}),e.jsxs("div",{className:"body-col",children:[e.jsx("div",{className:`uppercase ${s}`,children:"abcdefghijklmnopqrstuvwxyz"}),e.jsx("div",{className:`lowercase ${s}`,children:"abcdefghijklmnopqrstuvwxyz"})]}),e.jsx("div",{className:"body-col",children:n.is_develope===!0?e.jsx("span",{className:"progress",children:"Progress"}):e.jsx("span",{className:"done",children:"Done"})}),e.jsxs("div",{className:"body-col",children:[e.jsx("span",{className:"material-symbols-rounded edit",onClick:()=>{r(!0),o(n.font_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded delete",onClick:()=>{m(!0),o(n.font_id)},children:"delete"})]})]},n.font_id)})]})]})}function I(){N.defaults.withCredentials=!0;const[l,i]=t.useState("grid"),[o,r]=t.useState(!1),[m,u]=t.useState(!1),[x,n]=t.useState(!1),[a,s]=t.useState(null),[c,g]=t.useState([]),{isLoadingDashboard:v,setDashboardLoader:C,token:w}=F(),y=t.useCallback(p=>{i(p)},[]),h=t.useCallback(async()=>{C(!0);try{const p=await N.get(D.fonts);g(p.data.data)}catch(p){console.error(p)}finally{C(!1)}},[]);return t.useEffect(()=>{h()},[h]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"fonts-man",children:[e.jsx(P,{className:"fonts-man",title:"Font Families Management â€” Fonts",activeDisplay:l,handleDisplayChange:y,setIsCreateModalOpen:r}),l==="grid"?e.jsx(L,{isLoadingDashboard:v,fonts:c,setFontId:s,setIsUpdateModalOpen:u,setIsDeleteModalOpen:n,type:"grid"}):e.jsx(L,{isLoadingDashboard:v,fonts:c,setFontId:s,setIsUpdateModalOpen:u,setIsDeleteModalOpen:n,type:"list"}),e.jsx(_,{type:"create",onOpen:o,onClose:()=>r(!1),refreshData:h}),e.jsx(_,{type:"update",onOpen:m,onClose:()=>u(!1),refreshData:h,fontId:a}),e.jsx(_,{type:"delete",onOpen:x,onClose:()=>n(!1),refreshData:h,fontId:a})]})})}L.propTypes={type:d.string,fonts:d.array,setFontId:d.func,isLoadingDashboard:d.bool,setIsUpdateModalOpen:d.func,setIsDeleteModalOpen:d.func};function k({isLoadingDashboard:l,fontDesigns:i,brands:o,setFontDesignId:r,setIsUpdateModalOpen:m,setIsDeleteModalOpen:u,type:x}){const{search:n}=T();return e.jsxs(e.Fragment,{children:[l&&e.jsx(O,{}),x==="grid"?e.jsx("div",{className:"font-designs-man-grid",children:o.filter(a=>{const s=n.toLowerCase();return a.name.toLowerCase().includes(s)}).map(a=>e.jsxs("div",{className:"font-brands",children:[e.jsx("div",{className:"font-brands-text",children:a.name}),e.jsx("div",{className:"font-brands-item",children:i.filter(s=>s.brand_id===a.brand_id).filter(s=>{const c=n.toLowerCase();return s.font1.name.toLowerCase().includes(c)||s.font2.name.toLowerCase().includes(c)||s.brands.name.toLowerCase().includes(c)}).map(s=>{const c=$({brand:s.brand_id,group:s.group}),g=E({brand:s.brand_id,group:s.group});return e.jsxs("div",{className:"item",children:[e.jsx("div",{className:`item-name ${c}`,children:s.font1.name}),e.jsx("div",{className:`item-name ${g}`,children:s.font2.name}),e.jsxs("div",{className:"item-action",children:[e.jsxs("span",{className:`item-action-group ${s.group===1?"one":"two"}`,children:[e.jsx("span",{className:"material-symbols-outlined item-action-icon",children:"format_size"}),e.jsx("div",{className:"text",children:s.group===1?"Alpha":"Beta"})]}),e.jsx("span",{className:"material-symbols-rounded item-action-edit",onClick:()=>{m(!0),r(s.font_designs_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded item-action-delete",onClick:()=>{u(!0),r(s.font_designs_id)},children:"delete"})]})]},s.font_designs_id)})})]},a.brand_id))}):e.jsxs("div",{className:"font-designs-man-list",children:[e.jsxs("div",{className:"head",children:[e.jsx("div",{className:"head-col",children:"No"}),e.jsx("div",{className:"head-col",children:"Brand"}),e.jsx("div",{className:"head-col",children:"Font 1"}),e.jsx("div",{className:"head-col",children:"Font 2"}),e.jsx("div",{className:"head-col",children:"Group"}),e.jsx("div",{className:"head-col",children:"Action"})]}),i.filter(a=>{const s=n.toLowerCase();return a.brands.name.toLowerCase().includes(s)||a.font1.name.toLowerCase().includes(s)||a.font2.name.toLowerCase().includes(s)||a.group.toLowerCase().includes(s)}).map((a,s)=>{const c=$({brand:a.brand_id,group:a.group}),g=E({brand:a.brand_id,group:a.group});return e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"body-col",children:s+1}),e.jsx("div",{className:"body-col",children:a.brands.name}),e.jsx("div",{className:`body-col ${c}`,children:a.font1.name}),e.jsx("div",{className:`body-col ${g}`,children:a.font2.name}),e.jsx("div",{className:"body-col",children:a.group===1?e.jsx("div",{className:"one",children:"Alpha"}):e.jsx("div",{className:"two",children:"Beta"})}),e.jsxs("div",{className:"body-col",children:[e.jsx("span",{className:"material-symbols-rounded edit",onClick:()=>{m(!0),r(a.font_designs_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded delete",onClick:()=>{u(!0),r(a.font_designs_id)},children:"delete"})]})]},a.font_designs_id)})]})]})}function U(){N.defaults.withCredentials=!0;const[l,i]=t.useState("grid"),[o,r]=t.useState(!1),[m,u]=t.useState(!1),[x,n]=t.useState(!1),[a,s]=t.useState(null),[c,g]=t.useState([]),[v,C]=t.useState([]),{isLoadingDashboard:w,setDashboardLoader:y,token:h}=F(),p=t.useCallback(b=>{i(b)},[]),f=t.useCallback(async()=>{y(!0);try{const b=await N.get(D.fontsAi);console.log(b.data.data),g(b.data.data)}catch(b){console.error(b)}finally{y(!1)}},[]),j=t.useCallback(async()=>{y(!0);try{const b=await N.get(D.brandsAi);console.log(b.data.data),C(b.data.data)}catch(b){console.error(b)}finally{y(!1)}},[]);return t.useEffect(()=>{f(),j()},[f,j]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"font-designs-man",children:[e.jsx(P,{className:"font-designs-man",title:"Font Designs Management â€” Fonts",activeDisplay:l,handleDisplayChange:p,setIsCreateModalOpen:r}),l==="grid"?e.jsx(k,{isLoadingDashboard:w,fontDesigns:c,brands:v,setFontDesignId:s,setIsUpdateModalOpen:u,setIsDeleteModalOpen:n,type:"grid"}):e.jsx(k,{isLoadingDashboard:w,fontDesigns:c,brands:v,setFontDesignId:s,setIsUpdateModalOpen:u,setIsDeleteModalOpen:n,type:"list"})]})})}k.propTypes={type:d.string,fontDesigns:d.array,brands:d.array,setFontDesignId:d.func,isLoadingDashboard:d.bool,setIsUpdateModalOpen:d.func,setIsDeleteModalOpen:d.func};function W(){const{submenuPage:l,accessMenus:i,user:o}=F(),r=q();return t.useEffect(()=>{const m=setTimeout(()=>{(i==null?void 0:i.some(x=>x.role_id===(o==null?void 0:o.role_id)&&x.menu_id==="9b9a07fd-536c-4bec-9658-b2ad11bd08bd"))===!1&&r("/403",{replace:!0})},1e4);return()=>clearTimeout(m)},[i,o,r]),e.jsx(e.Fragment,{children:e.jsxs(B,{children:[l==="fbb6b983-c564-4d96-9473-c351194a1359"&&e.jsx(I,{}),l==="4e57e7b9-8cee-4fb8-bdc8-1211c99b9bec"&&e.jsx(U,{})]})})}export{W as default};
