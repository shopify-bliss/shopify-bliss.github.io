import{a as g,r as n,h as D,i as E,d as u,f as e}from"./index-CMOvAOI6.js";import{H as k}from"./SupportDashboard-CyTMUA7L.js";import{t as N,T as C}from"./ValidationSchema-m6anahiY.js";import{M as v}from"./Profile-zX8F_9Rq.js";import{L as F}from"./LayoutDashboard-COTbCCi3.js";import"./AuthSupport-BsZ_FME2.js";import"./AiBuilderSupport-yaeu0xI2.js";import"./black-logo-KPU1N9jl.js";import"./index-4KdN5x27.js";import"./Error-CNtiXdZS.js";function S({type:i,onOpen:m,onClose:t,refreshData:r,pageId:c}){g.defaults.withCredentials=!0;const[o,s]=n.useState({type:"",icon:"",name_class:""}),{toastMessage:h,toastPromise:x}=D(),{token:p}=E();n.useEffect(()=>{m&&i==="create"?s({type:"",icon:"",name_class:""}):m&&i==="update"&&g.get(`${u.pagesAiId}?id=${c}`).then(d=>{s(d.data.data)}).catch(d=>{console.error("Error fetching page data:",d)})},[m,i,c,u]);const y=d=>{const{name:l,value:a}=d.target;s({...o,[l]:a})},j=n.useCallback(d=>{d.preventDefault(),i==="create"?N.validate(o,{abortEarly:!1}).then(()=>{const l=g.post(u.pagesAi,o,{headers:{Authorization:`Bearer ${p}`}});x(l,{pending:"Adding page data on progress, please wait..!",success:"Data has been successfully added!",error:"Failed to add data!"},{autoClose:2500,position:"top-center"},()=>{t(),r()}),l.catch(a=>{console.error("Error adding page data:",a)})}).catch(l=>{l.inner.forEach(a=>{h("error",a.message)})}):N.validate(o,{abortEarly:!1}).then(()=>{const l=g.put(`${u.pagesAi}?id=${c}`,o,{headers:{Authorization:`Bearer ${p}`}});x(l,{pending:"Updating page data on progress, please wait..!",success:"Data has been successfully updated!",error:"Failed to update data!"},{autoClose:2500,position:"top-center"},()=>{t(),r()}),l.catch(a=>{console.error("Error updating page data:",a)})}).catch(l=>{l.inner.forEach(a=>{h("error",a.message)})})},[N,o,t,r,h,x,c,p,u]),b=n.useCallback(d=>{d.preventDefault();const l=g.delete(`${u.pagesAi}?id=${c}`,{headers:{Authorization:`Bearer ${p}`}});x(l,{pending:"deleting page data on progress, please wait..!",success:"Data has been successfully deleted!",error:"Failed to delete data!"},{autoClose:2500,position:"top-center"},()=>{t(),r()}),l.catch(a=>{console.error("Error deleting page data:",a)})},[c,p,t,r]);return e.jsx(e.Fragment,{children:i==="delete"?e.jsx(v,{onClose:t,onOpen:m,type:"confirm",titleModal:"Are you sure you want to delete this?",descModal:"Your content will be permanently deleted. This can't be undone.",children:e.jsxs("div",{className:"confirm-dashboard-action",children:[e.jsx("div",{className:"cancel",onClick:t,children:"cancel"}),e.jsx("div",{className:"confirm",onClick:b,children:"delete"})]})}):e.jsx(v,{titleModal:i==="create"?"Insert Page Data":"Update Page Data",onOpen:m,onClose:t,children:e.jsxs("form",{className:"modal-dashboard-form",onSubmit:j,children:[e.jsxs("div",{className:"modal-dashboard-form-group",children:[e.jsxs("label",{htmlFor:"type",children:["Page name ",e.jsx("span",{children:"(Required)"})]}),e.jsx("input",{type:"text",id:"type",name:"type",placeholder:"Home Page",value:o.type,onChange:y})]}),e.jsxs("div",{className:"modal-dashboard-form-group",children:[e.jsxs("label",{htmlFor:"icon",children:["Page icon ",e.jsx("span",{children:"(Required)"})]}),e.jsx("input",{type:"text",id:"icon",name:"icon",placeholder:"home (google material icon)",value:o.icon,onChange:y})]}),e.jsxs("div",{className:"modal-dashboard-form-group",children:[e.jsxs("label",{htmlFor:"name_class",children:["Page class ",e.jsx("span",{children:"(Required)"})]}),e.jsx("input",{type:"text",id:"name_class",name:"name_class",placeholder:"home-page",value:o.name_class,onChange:y})]}),e.jsx("button",{type:"submit",children:"Submit"})]})})})}function _({isLoadingTempPages:i,pages:m,setPageId:t,setIsUpdateModalOpen:r,setIsDeleteModalOpen:c,type:o}){return e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:"loader-pages",children:e.jsx("div",{className:"loader-pages-item"})}),o==="grid"?e.jsx("div",{className:"temp-pages-grid",children:m.map(s=>e.jsxs("div",{className:"item",children:[e.jsx("span",{className:"material-symbols-rounded item-icon",children:s.icon}),e.jsx("div",{className:"item-name",children:s.type}),e.jsxs("div",{className:"item-action",children:[e.jsx("span",{className:"material-symbols-rounded item-action-edit",onClick:()=>{r(!0),t(s.type_template_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded item-action-delete",onClick:()=>{c(!0),t(s.type_template_id)},children:"delete"})]})]},s.type_template_id))}):e.jsxs("div",{className:"temp-pages-list",children:[e.jsxs("div",{className:"head",children:[e.jsx("div",{className:"head-col",children:"No"}),e.jsx("div",{className:"head-col",children:"Icon"}),e.jsx("div",{className:"head-col",children:"Google Material Icon"}),e.jsx("div",{className:"head-col",children:"Name"}),e.jsx("div",{className:"head-col",children:"Action"})]}),m.map((s,h)=>e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"body-col",children:h+1}),e.jsx("span",{className:"material-symbols-rounded body-col",children:s.icon}),e.jsx("div",{className:"body-col",children:s.icon}),e.jsx("div",{className:"body-col",children:s.type}),e.jsxs("div",{className:"body-col",children:[e.jsx("span",{className:"material-symbols-rounded edit",onClick:()=>{r(!0),t(s.type_template_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded delete",onClick:()=>{c(!0),t(s.type_template_id)},children:"delete"})]})]},s.type_template_id))]})]})}function P(){g.defaults.withCredentials=!0;const[i,m]=n.useState([]),[t,r]=n.useState(!1),[c,o]=n.useState("grid"),[s,h]=n.useState(!1),[x,p]=n.useState(!1),[y,j]=n.useState(!1),[b,d]=n.useState(null),l=n.useCallback(f=>{o(f)},[]),a=n.useCallback(async()=>{r(!0);try{const f=await g.get(u.pagesAi);m(f.data.data),r(!1)}catch(f){console.error(f),r(!1)}finally{r(!1)}},[u.pagesAi]);return n.useEffect(()=>{a()},[a]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"temp-pages",children:[e.jsx(k,{className:"temp-pages",title:"Template Management â€” Pages",activeDisplay:c,handleDisplayChange:l,setIsCreateModalOpen:h}),c==="grid"?e.jsx(_,{isLoadingTempPages:t,pages:i,setPageId:d,setIsUpdateModalOpen:p,setIsDeleteModalOpen:j,type:"grid"}):e.jsx(_,{isLoadingTempPages:t,pages:i,setPageId:d,setIsUpdateModalOpen:p,setIsDeleteModalOpen:j,type:"list"}),e.jsx(S,{type:"create",onOpen:s,onClose:()=>h(!1),refreshData:a}),e.jsx(S,{type:"update",onOpen:x,onClose:()=>p(!1),refreshData:a,pageId:b}),e.jsx(S,{type:"delete",onOpen:y,onClose:()=>j(!1),refreshData:a,pageId:b})]})})}function A({type:i,onOpen:m,onClose:t,refreshData:r,sectionId:c}){g.defaults.withCredentials=!0;const[o,s]=n.useState({name:""}),{toastMessage:h,toastPromise:x}=D(),{token:p}=E();n.useEffect(()=>{m&&i==="create"?s({name:""}):m&&i==="update"&&g.get(`${u.elementsAiId}?id=${c}`).then(d=>{s(d.data.data[0])}).catch(d=>{console.error("Error fetching section data:",d)})},[m,i,c,u]);const y=d=>{const{name:l,value:a}=d.target;s({...o,[l]:a})},j=n.useCallback(d=>{d.preventDefault(),i==="create"?C.validate(o,{abortEarly:!1}).then(()=>{const l=g.post(u.elementsAi,o,{headers:{Authorization:`Bearer ${p}`}});x(l,{pending:"Adding section data on progress, please wait..!",success:"Data has been successfully added!",error:"Failed to add data!"},{autoClose:2500,position:"top-center"},()=>{t(),r()}),l.catch(a=>{console.error("Error adding section data:",a)})}).catch(l=>{l.inner.forEach(a=>{h("error",a.message)})}):C.validate(o,{abortEarly:!1}).then(()=>{const l=g.put(`${u.elementsAi}?id=${c}`,o,{headers:{Authorization:`Bearer ${p}`}});x(l,{pending:"Updating section data on progress, please wait..!",success:"Data has been successfully updated!",error:"Failed to update data!"},{autoClose:2500,position:"top-center"},()=>{t(),r()}),l.catch(a=>{console.error("Error updating section data:",a)})}).catch(l=>{l.inner.forEach(a=>{h("error",a.message)})})},[C,o,t,r,h,x,c,p,u]),b=n.useCallback(d=>{d.preventDefault();const l=g.delete(`${u.elementsAi}?id=${c}`,{headers:{Authorization:`Bearer ${p}`}});x(l,{pending:"deleting section data on progress, please wait..!",success:"Data has been successfully deleted!",error:"Failed to delete data!"},{autoClose:2500,position:"top-center"},()=>{t(),r()}),l.catch(a=>{console.error("Error deleting section data:",a)})},[c,p,t,r]);return e.jsx(e.Fragment,{children:i==="delete"?e.jsx(v,{onClose:t,onOpen:m,type:"confirm",titleModal:"Are you sure you want to delete this?",descModal:"Your content will be permanently deleted. This can't be undone.",children:e.jsxs("div",{className:"confirm-dashboard-action",children:[e.jsx("div",{className:"cancel",onClick:t,children:"cancel"}),e.jsx("div",{className:"confirm",onClick:b,children:"delete"})]})}):e.jsx(v,{titleModal:i==="create"?"Insert Section Data":"Update Section Data",onOpen:m,onClose:t,children:e.jsxs("form",{className:"modal-dashboard-form",onSubmit:j,children:[e.jsxs("div",{className:"modal-dashboard-form-group",children:[e.jsxs("label",{htmlFor:"name",children:["Section name ",e.jsx("span",{children:"(Required)"})]}),e.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Intro Section",value:o.name,onChange:y})]}),e.jsx("button",{type:"submit",children:"Submit"})]})})})}function M({isLoadingTempSections:i,sections:m,setSectionId:t,setIsUpdateModalOpen:r,setIsDeleteModalOpen:c,type:o}){return e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:"loader-pages",children:e.jsx("div",{className:"loader-pages-item"})}),o==="grid"?e.jsx("div",{className:"temp-sections-grid",children:m.map(s=>e.jsxs("div",{className:"item",children:[e.jsx("div",{className:"item-name",children:s.name}),e.jsxs("div",{className:"item-action",children:[e.jsx("span",{className:"material-symbols-rounded item-action-edit",onClick:()=>{r(!0),t(s.section_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded item-action-delete",onClick:()=>{c(!0),t(s.section_id)},children:"delete"})]})]},s.section_id))}):e.jsxs("div",{className:"temp-sections-list",children:[e.jsxs("div",{className:"head",children:[e.jsx("div",{className:"head-col",children:"No"}),e.jsx("div",{className:"head-col",children:"Name"}),e.jsx("div",{className:"head-col",children:"Action"})]}),m.map((s,h)=>e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"body-col",children:h+1}),e.jsx("div",{className:"body-col",children:s.name}),e.jsxs("div",{className:"body-col",children:[e.jsx("span",{className:"material-symbols-rounded edit",onClick:()=>{r(!0),t(s.section_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded delete",onClick:()=>{c(!0),t(s.section_id)},children:"delete"})]})]},s.section_id))]})]})}function w(){g.defaults.withCredentials=!0;const[i,m]=n.useState([]),[t,r]=n.useState(!1),[c,o]=n.useState("grid"),[s,h]=n.useState(!1),[x,p]=n.useState(!1),[y,j]=n.useState(!1),[b,d]=n.useState(null),l=n.useCallback(f=>{o(f)},[]),a=n.useCallback(async()=>{r(!0);try{const f=await g.get(u.elementsAi);m(f.data.data),r(!1)}catch(f){console.error(f),r(!1)}finally{r(!1)}},[u.elementsAi]);return n.useEffect(()=>{a()},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"temp-sections",children:[e.jsx(k,{className:"temp-sections",title:"Template Management â€” Sections",activeDisplay:c,handleDisplayChange:l,setIsCreateModalOpen:h}),c==="grid"?e.jsx(M,{isLoadingTempSections:t,sections:i,setSectionId:d,setIsUpdateModalOpen:p,setIsDeleteModalOpen:j,type:"grid"}):e.jsx(M,{isLoadingTempSections:t,sections:i,setSectionId:d,setIsUpdateModalOpen:p,setIsDeleteModalOpen:j,type:"list"}),e.jsx(A,{type:"create",onOpen:s,onClose:()=>h(!1),refreshData:a}),e.jsx(A,{type:"update",onOpen:x,onClose:()=>p(!1),refreshData:a,sectionId:b}),e.jsx(A,{type:"delete",onOpen:y,onClose:()=>j(!1),refreshData:a,sectionId:b})]})})}function $(){return e.jsx(e.Fragment,{children:e.jsx("div",{children:"Colors"})})}function T(){return e.jsx(e.Fragment,{children:e.jsx("div",{children:"Fonts"})})}function G(){const{submenuPage:i}=D();return e.jsx(e.Fragment,{children:e.jsxs(F,{children:[i==="overview"&&e.jsx("span",{children:"test"}),i==="pages"&&e.jsx(P,{}),i==="sections"&&e.jsx(w,{}),i==="colors"&&e.jsx($,{}),i==="fonts"&&e.jsx(T,{})]})})}export{G as default};
