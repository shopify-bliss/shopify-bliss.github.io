import{h,j as e,r as n,N as g,u as b,d as _,L,P as k}from"./index-C4l_2Wgo.js";import{L as C}from"./AiBuilderSupport-CVzcLkRa.js";import{P as y}from"./Profile-C_Gx60rA.js";function P(){const{menus:i,accessMenus:t,user:o}=h();return e.jsx("div",{className:"layout-dashboard-sidebar",children:i.map(a=>{const l=t.filter(c=>c.role_id===(o==null?void 0:o.role_id)&&c.menu_id===a.menu_id&&a.menu_id!=="6556df8f-7cd6-4848-b39f-1e6ab4973311");return e.jsx(n.Fragment,{children:l.map(c=>e.jsxs(g,{to:`/${a.url}`,className:"sidebar-list",children:[e.jsx("div",{className:"sidebar-list-item",children:a.name}),e.jsx("div",{className:"border-effect"})]},c.access_id))},a.menu_id)})})}function M(){const[i,t]=n.useState(!1),[o,a]=n.useState(!1),l=n.useRef(null),{submenus:c,activeMenu:v,handleSubmenuPage:x,submenuPage:j,toastDevelop:m,menus:p,user:d,token:u}=h(),f=b(),r=n.useCallback(s=>{l.current&&!l.current.contains(s.target)&&t(!1)},[l]);n.useEffect(()=>(i?document.addEventListener("mousedown",r):document.removeEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}),[i,r]);const N=n.useCallback(()=>{u&&(_.remove("shopify-bliss"),f("/login",{state:{messageLogout:"Logout successfully!"}}))},[u,f]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"layout-dashboard-topbar",children:[e.jsx(C,{}),e.jsx("div",{className:"links",children:c.filter(s=>s.menu_id===v&&s.is_develope===!1).map(s=>e.jsx("div",{className:`links-item ${s.sub_menu_id===j?"active":""}`,onClick:()=>x(s.sub_menu_id),children:s.name},s.sub_menu_id))}),e.jsxs("div",{className:"config",children:[e.jsx("div",{className:"config-help",onClick:()=>{m("help")},children:"Help"}),e.jsxs("div",{className:"config-account",onClick:()=>t(!0),children:[e.jsx("div",{className:"text",children:"Account Setting"}),e.jsx("img",{src:`/avatar/${d==null?void 0:d.avatar}`,alt:"Profile image's"})]}),i?e.jsxs("div",{className:"account-modal",ref:l,children:[e.jsxs("div",{className:"account-modal-profile",children:[e.jsx("div",{className:"username",children:d.username}),e.jsx("div",{className:"email",children:d.email})]}),p.filter(s=>s.menu_id==="6556df8f-7cd6-4848-b39f-1e6ab4973311").map(s=>e.jsx(L,{className:"account-modal-item",onClick:()=>{a(!0),t(!1)},children:s.name},s.menu_id)),e.jsx("div",{className:"account-modal-item",onClick:()=>{m("notifications")},children:"Notifications"}),e.jsx("div",{className:"account-modal-item",onClick:()=>{m("language")},children:"Language"}),e.jsx("div",{className:"account-modal-item",onClick:N,children:"Logout"})]}):""]})]}),o?e.jsx(y,{onOpen:o,onClose:()=>a(!1)}):""]})}const E=({children:i})=>e.jsxs("div",{className:"layout-dashboard",children:[e.jsx(P,{}),e.jsx(M,{}),e.jsx("div",{className:"layout-dashboard-content",children:i})]});E.propTypes={children:k.node};export{E as L};
