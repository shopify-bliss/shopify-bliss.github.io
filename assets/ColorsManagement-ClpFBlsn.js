import{P as u,a as N,r as a,h as k,e as v,j as e,i as P,k as O,u as z}from"./index-aySjYrsU.js";import{L as I}from"./LayoutDashboard-BAZNBLcU.js";import{H as B}from"./SupportDashboard-dL8Cybnh.js";import{C as E}from"./ValidationSchema-D3YOnutq.js";import{M as F}from"./Profile-CMgs2MYk.js";import"./AiBuilderSupport-CPodDVxf.js";import"./black-logo-KPU1N9jl.js";import"./AuthSupport-CdrhMnVD.js";function w({type:n,onOpen:i,onClose:l,refreshData:t,colorId:h}){N.defaults.withCredentials=!0;const[p,f]=a.useState(""),[s,o]=a.useState(!0),{toastMessage:r,toastPromise:x,token:b}=k(),D=a.useRef(!1),y=a.useRef(!1);a.useEffect(()=>{i&&n==="create"?(f(""),o(!0)):i&&n==="update"&&N.get(`${v.colorId}?id=${h}`,{headers:{Authorization:`Bearer ${b}`}}).then(m=>{f(m.data.data.color),o(m.data.data.is_develope)}).catch(m=>{console.error("Error fetching color data:",m)})},[i,n,h,b]);const C=a.useCallback(m=>{if(m.preventDefault(),n==="create"){const c={color:p,isDevelope:s};E.validate(c,{abortEarly:!1}).then(()=>{const d=N.post(v.colors,c,{headers:{Authorization:`Bearer ${b}`}});d.then(g=>{D.current=g.data.success}),x(d,{pending:"Adding color data on progress, please wait..!",success:"Data has been successfully added!",error:"Failed to add data!"},{autoClose:2500,position:"top-center"},()=>{D.current===!0&&(l(),t())}),d.catch(g=>{console.error("Error adding color data:",g)})}).catch(d=>{d.inner.forEach(g=>{r("error",g.message)})})}else{const c={color:p,isDevelope:s};console.log(c),E.validate(c,{abortEarly:!1}).then(()=>{const d=N.put(`${v.colors}?id=${h}`,c,{headers:{Authorization:`Bearer ${b}`}});d.then(g=>{y.current=g.data.success}),x(d,{pending:"Updating color data on progress, please wait..!",success:"Data has been successfully updated!",error:"Failed to update data!"},{autoClose:2500,position:"top-center"},()=>{y.current===!0&&(l(),t())}),d.catch(g=>{console.error("Error updating color data:",g)})}).catch(d=>{d.inner.forEach(g=>{r("error",g.message)})})}},[p,s,l,t,r,x,h,b,n]),_=a.useCallback(m=>{m.preventDefault();const c=N.delete(`${v.colors}?id=${h}`,{headers:{Authorization:`Bearer ${b}`}});x(c,{pending:"deleting color data on progress, please wait..!",success:"Data has been successfully deleted!",error:"Failed to delete data!"},{autoClose:2500,position:"top-center"},()=>{l(),t()}),c.catch(d=>{console.error("Error deleting color data:",d)})},[h,b,l,t,x]);return e.jsx(e.Fragment,{children:n==="delete"?e.jsx(F,{onClose:l,onOpen:i,type:"confirm",titleModal:"Are you sure you want to delete this?",descModal:"Your content will be permanently deleted. This can't be undone.",children:e.jsxs("div",{className:"confirm-dashboard-action",children:[e.jsx("div",{className:"cancel",onClick:l,children:"cancel"}),e.jsx("div",{className:"confirm",onClick:_,children:"delete"})]})}):e.jsx(F,{titleModal:n==="create"?"Insert Font Data":"Update Font Data",onOpen:i,onClose:l,children:e.jsxs("form",{className:"modal-dashboard-form",onSubmit:C,children:[e.jsxs("div",{className:"modal-dashboard-form-group",children:[e.jsxs("label",{htmlFor:"color",children:["Color ",e.jsx("span",{children:"(Required)"})]}),e.jsx("input",{type:"text",id:"color",name:"color",placeholder:"f0f0f0",value:p,onChange:m=>f(m.target.value)})]}),e.jsxs("div",{className:"modal-dashboard-form-group",children:[e.jsxs("div",{className:"label",children:["Setting Is Develope ",e.jsx("span",{children:"(Required)"})]}),e.jsxs("div",{className:"check-option",onClick:()=>o(!s),children:[e.jsx("span",{className:"material-symbols-outlined",children:s?"circle":"task_alt"}),e.jsx("div",{className:"text",children:s?"Progress":"Done"})]})]}),e.jsx("button",{type:"submit",children:"Submit"})]})})})}w.propTypes={type:u.string,onOpen:u.bool,onClose:u.func,refreshData:u.func,colorId:u.string};function L({isLoadingDashboard:n,colors:i,setColorId:l,setIsUpdateModalOpen:t,setIsDeleteModalOpen:h,type:p}){const{search:f}=P();return e.jsxs(e.Fragment,{children:[n&&e.jsx(O,{}),p==="grid"?e.jsx("div",{className:"colors-man-grid",children:i.filter(s=>{const o=f.toLowerCase();return s.color.toLowerCase().includes(o)}).map(s=>e.jsxs("div",{className:"item",children:[e.jsx("div",{className:"item-samples",style:{backgroundColor:`#${s.color}`}}),e.jsx("div",{className:"item-hex",children:s.color}),e.jsxs("div",{className:"item-action",children:[s.is_develope===!0?e.jsxs("span",{className:"item-action-progress",children:[e.jsx("span",{className:"material-symbols-outlined item-action-icon",children:"sync"}),e.jsx("div",{className:"text",children:"Progress"})]}):null,e.jsx("span",{className:"material-symbols-rounded item-action-edit",onClick:()=>{t(!0),l(s.color_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded item-action-delete",onClick:()=>{h(!0),l(s.color_id)},children:"delete"})]})]},s.color_id))}):e.jsxs("div",{className:"colors-man-list",children:[e.jsxs("div",{className:"head",children:[e.jsx("div",{className:"head-col",children:"No"}),e.jsx("div",{className:"head-col",children:"Color"}),e.jsx("div",{className:"head-col",children:"Sample"}),e.jsx("div",{className:"head-col",children:"Develope"}),e.jsx("div",{className:"head-col",children:"Action"})]}),i.filter(s=>{const o=f.toLowerCase();return s.color.toLowerCase().includes(o)}).map((s,o)=>e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"body-col",children:o+1}),e.jsx("div",{className:"body-col",children:s.color}),e.jsx("div",{className:"body-col",children:e.jsx("span",{className:"body-col-box",style:{backgroundColor:`#${s.color}`}})}),e.jsx("div",{className:"body-col",children:s.is_develope===!0?e.jsx("span",{className:"progress",children:"Progress"}):e.jsx("span",{className:"done",children:"Done"})}),e.jsxs("div",{className:"body-col",children:[e.jsx("span",{className:"material-symbols-rounded edit",onClick:()=>{t(!0),l(s.color_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded delete",onClick:()=>{h(!0),l(s.color_id)},children:"delete"})]})]},s.color_id))]})]})}function T(){N.defaults.withCredentials=!0;const[n,i]=a.useState("grid"),[l,t]=a.useState(!1),[h,p]=a.useState(!1),[f,s]=a.useState(!1),[o,r]=a.useState(null),[x,b]=a.useState([]),{isLoadingDashboard:D,setDashboardLoader:y,token:C}=k(),_=a.useCallback(c=>{i(c)},[]),m=a.useCallback(async()=>{y(!0);try{const c=await N.get(v.colors,{headers:{Authorization:`Bearer ${C}`}});b(c.data.data)}catch(c){console.error(c)}finally{y(!1)}},[C]);return a.useEffect(()=>{m()},[m]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"colors-man",children:[e.jsx(B,{className:"colors-man",title:"Colors Management â€” Color Hexs",activeDisplay:n,handleDisplayChange:_,setIsCreateModalOpen:t}),n==="grid"?e.jsx(L,{isLoadingDashboard:D,colors:x,setColorId:r,setIsUpdateModalOpen:p,setIsDeleteModalOpen:s,type:"grid"}):e.jsx(L,{isLoadingDashboard:D,colors:x,setColorId:r,setIsUpdateModalOpen:p,setIsDeleteModalOpen:s,type:"list"}),e.jsx(w,{type:"create",onOpen:l,onClose:()=>t(!1),refreshData:m}),e.jsx(w,{type:"update",onOpen:h,onClose:()=>p(!1),refreshData:m,colorId:o}),e.jsx(w,{type:"delete",onOpen:f,onClose:()=>s(!1),refreshData:m,colorId:o})]})})}L.propTypes={type:u.string,colors:u.array,setColorId:u.func,isLoadingDashboard:u.bool,setIsUpdateModalOpen:u.func,setIsDeleteModalOpen:u.func};function S({isLoadingDashboard:n,colorDesigns:i,brands:l,setFontDesignId:t,setIsUpdateModalOpen:h,setIsDeleteModalOpen:p,type:f}){const{search:s}=P();return e.jsxs(e.Fragment,{children:[n&&e.jsx(O,{}),f==="grid"?e.jsx("div",{className:"color-designs-man-grid",children:l.filter(o=>{const r=s.toLowerCase();return o.name.toLowerCase().includes(r)}).map(o=>e.jsxs("div",{className:"color-brands",children:[e.jsx("div",{className:"color-brands-text",children:o.name}),e.jsx("div",{className:"color-brands-item",children:i.filter(r=>r.brand_id===o.brand_id).filter(r=>{const x=s.toLowerCase();return r.color1.color.toLowerCase().includes(x)||r.color2.color.toLowerCase().includes(x)||r.color3.color.toLowerCase().includes(x)||r.brands.name.toLowerCase().includes(x)}).map(r=>e.jsxs("div",{className:"item",children:[e.jsxs("span",{className:"item-name",children:[e.jsx("span",{className:`color-special-${r.color1.color}`}),e.jsx("span",{className:`color-other-${r.color2.color}`}),e.jsx("span",{className:`color-bg-${r.color3.color}`})]}),e.jsxs("div",{className:"item-action",children:[r.is_develope===!0?e.jsxs("span",{className:"item-action-progress",children:[e.jsx("span",{className:"material-symbols-outlined item-action-icon",children:"sync"}),e.jsx("div",{className:"text",children:"Progress"})]}):null,e.jsx("span",{className:"material-symbols-rounded item-action-edit",onClick:()=>{h(!0),t(r.color_designs_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded item-action-delete",onClick:()=>{p(!0),t(r.color_designs_id)},children:"delete"})]})]},r.color_designs_id))})]},o.brand_id))}):e.jsxs("div",{className:"color-designs-man-list",children:[e.jsxs("div",{className:"head",children:[e.jsx("div",{className:"head-col",children:"No"}),e.jsx("div",{className:"head-col",children:"Brand"}),e.jsx("div",{className:"head-col",children:"Color 1"}),e.jsx("div",{className:"head-col",children:"Color 2"}),e.jsx("div",{className:"head-col",children:"Color 3"}),e.jsx("div",{className:"head-col",children:"Develope"}),e.jsx("div",{className:"head-col",children:"Action"})]}),i.map((o,r)=>e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"body-col",children:r+1}),e.jsx("div",{className:"body-col",children:o.brands.name}),e.jsx("div",{className:"body-col",children:e.jsx("span",{className:`color-special-${o.color1.color}`})}),e.jsx("div",{className:"body-col",children:e.jsx("span",{className:`color-other-${o.color2.color}`})}),e.jsx("div",{className:"body-col",children:e.jsx("span",{className:`color-bg-${o.color3.color}`})}),e.jsx("div",{className:"body-col",children:o.is_develope===!0?e.jsx("span",{className:"progress",children:"Progress"}):e.jsx("span",{className:"done",children:"Done"})}),e.jsxs("div",{className:"body-col",children:[e.jsx("span",{className:"material-symbols-rounded edit",onClick:()=>{h(!0),t(o.color_designs_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded delete",onClick:()=>{p(!0),t(o.color_designs_id)},children:"delete"})]})]},o.color_designs_id))]})]})}function U(){N.defaults.withCredentials=!0;const[n,i]=a.useState("grid"),[l,t]=a.useState(!1),[h,p]=a.useState(!1),[f,s]=a.useState(!1),[o,r]=a.useState(null),[x,b]=a.useState([]),[D,y]=a.useState([]),[C,_]=a.useState([]),{isLoadingDashboard:m,setDashboardLoader:c,token:d}=k(),g=a.useCallback(j=>{i(j)},[]),$=a.useCallback(async()=>{c(!0);try{const j=await N.get(v.colorsAi,{headers:{Authorization:`Bearer ${d}`}});console.log(j.data.data),b(j.data.data)}catch(j){console.error(j)}finally{c(!1)}},[d]),M=a.useCallback(async()=>{c(!0);try{const j=await N.get(v.colors,{headers:{Authorization:`Bearer ${d}`}});console.log(j.data.data),y(j.data.data)}catch(j){console.error(j)}finally{c(!1)}},[d]),A=a.useCallback(async()=>{c(!0);try{const j=await N.get(v.brandsAi,{headers:{Authorization:`Bearer ${d}`}});console.log(j.data.data),_(j.data.data)}catch(j){console.error(j)}finally{c(!1)}},[d]);return a.useEffect(()=>{M(),A(),$()},[$,A,M]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"color-designs-man",children:[e.jsx(B,{className:"color-designs-man",title:"Colors Management â€” Color Designs",activeDisplay:n,handleDisplayChange:g,setIsCreateModalOpen:t}),n==="grid"?e.jsx(S,{isLoadingDashboard:m,colorDesigns:x,brands:C,setFontDesignId:r,setIsUpdateModalOpen:p,setIsDeleteModalOpen:s,type:"grid"}):e.jsx(S,{isLoadingDashboard:m,colorDesigns:x,brands:C,setFontDesignId:r,setIsUpdateModalOpen:p,setIsDeleteModalOpen:s,type:"list"})]})})}S.propTypes={type:u.string,colorDesigns:u.array,brands:u.array,setFontDesignId:u.func,isLoadingDashboard:u.bool,setIsUpdateModalOpen:u.func,setIsDeleteModalOpen:u.func};function Q(){const{submenuPage:n,accessMenus:i,user:l}=k(),t=z();return a.useEffect(()=>{const h=setTimeout(()=>{(i==null?void 0:i.some(f=>f.role_id===(l==null?void 0:l.role_id)&&f.menu_id==="98e0bafb-3499-4123-954f-5dffbb42e80d"))===!1&&t("/403",{replace:!0})},1e4);return()=>clearTimeout(h)},[i,l,t]),e.jsx(e.Fragment,{children:e.jsxs(I,{children:[n==="3b37ca81-d163-442c-a445-099196844800"&&e.jsx(T,{}),n==="09fff991-2791-49ee-9fab-b1675e3fb5e5"&&e.jsx(U,{})]})})}export{Q as default};
