import{r as t,e as f,j as e,N,u as k}from"./index-efJpG4c1.js";import{C as h,j as p,S as b}from"./SmoothScroll-3nL7fy9T.js";import{L}from"./AiBuilderSupport-DUk6RuH0.js";function x(){const[a,i]=t.useState(null),[s,c]=t.useState(null),r=new h;return t.useEffect(()=>{const n=()=>{const l=r.get("shopify-bliss")||null,d=l?p(l):null;i(l),c(d)};n();const u=setInterval(n,1e3);return()=>clearInterval(u)},[]),{token:a,decoded:s}}function C(){const{menu:a,accessMenu:i}=f(),{decoded:s}=x();return e.jsx("div",{className:"layout-dashboard-sidebar",children:a.map(c=>i.filter(n=>n.role===(s==null?void 0:s.role)&&n.accessMenu===c.id).map(n=>e.jsxs(N,{to:`/${c.url}`,className:"sidebar-list",children:[e.jsx("div",{className:"sidebar-list-item",children:c.name}),e.jsx("div",{className:"border-effect"})]},n.id)))})}const S="/assets/pexels-alancabello-1291515-DHvgex6l.jpg";function y(){const[a,i]=t.useState(!1),s=t.useRef(null),{submenu:c,activeMenu:r,handleSubmenuPage:n,submenuPage:u,toastDevelop:l}=f(),{token:d,decoded:v}=x(),j=k(),m=t.useCallback(o=>{s.current&&!s.current.contains(o.target)&&i(!1)},[s]);t.useEffect(()=>(a?document.addEventListener("mousedown",m):document.removeEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}),[a]);const g=t.useCallback(()=>{d&&(new h().remove("shopify-bliss"),j("/login",{state:{messageLogout:"Logout successfully!"}}))},[d]);return e.jsxs("div",{className:"layout-dashboard-topbar",children:[e.jsx(L,{}),e.jsx("div",{className:"links",children:c.filter(o=>o.menu_id===r).map(o=>e.jsx("div",{className:`links-item ${o.name===u?"active":""}`,onClick:()=>n(o.name),children:o.name},o.id))}),e.jsxs("div",{className:"config",children:[e.jsx("div",{className:"config-help",onClick:()=>{l("help")},children:"Help"}),e.jsxs("div",{className:"config-account",onClick:()=>i(!0),children:[e.jsx("div",{className:"text",children:"Account Setting"}),e.jsx("img",{src:S,alt:"Profile image's"})]}),a?e.jsxs("div",{className:"account-modal",ref:s,children:[e.jsxs("div",{className:"account-modal-profile",children:[e.jsx("div",{className:"username",children:v.username}),e.jsx("div",{className:"email",children:v.email})]}),e.jsx("div",{className:"account-modal-item",onClick:()=>{l("notifications")},children:"Notifications"}),e.jsx("div",{className:"account-modal-item",onClick:()=>{l("language")},children:"Language"}),e.jsx("div",{className:"account-modal-item",onClick:g,children:"Logout"})]}):""]})]})}function M({children:a}){return e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsxs("div",{className:"layout-dashboard",children:[e.jsx(C,{}),e.jsx(y,{}),e.jsx("div",{className:"layout-dashboard-content",children:a})]})]})}export{M as L,x as u};
