import{a as f,r as s,i as h,f as e,h as x,b as j,u as b}from"./index-BZSCxJql.js";import{d as N}from"./AuthSupport-CMBJa0HJ.js";import{Error401 as w}from"./Error-5CmM0YFy.js";function P(){f.defaults.withCredentials=!0;const[r,d]=s.useState(!0),[i,u]=s.useState(!0),[l,c]=s.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),{token:t,decoded:o}=h(),n=s.useCallback(p=>{const{name:g,value:m}=p.target;g==="setPassword"&&c({length:m.length>=8,uppercase:/[A-Z]/.test(m),lowercase:/[a-z]/.test(m),number:/[0-9]/.test(m),special:/[@$!%*?&#^()_\-+=]/.test(m)})},[c]);return s.useEffect(()=>{console.log(o)},[o]),e.jsx(e.Fragment,{children:e.jsxs("form",{className:"core",children:[e.jsxs("div",{className:"core-input",children:[e.jsxs("div",{className:"core-input-group core-input-pw",children:[e.jsx("label",{htmlFor:"currentPassword",children:"Current Password"}),e.jsx("input",{type:`${r?"password":"text"}`,id:"currentPassword",name:"currentPassword",autoComplete:"off"}),e.jsx("span",{className:"material-symbols-outlined",onClick:()=>d(!r),children:r?"visibility_off":"visibility"}),e.jsx("div",{className:"input-border"})]}),e.jsxs("div",{className:"core-input-group core-input-pw",children:[e.jsx("label",{htmlFor:"setPassword",children:"Set New Password"}),e.jsx("input",{type:`${i?"password":"text"}`,id:"setPassword",name:"setPassword",autoComplete:"off",onChange:n}),e.jsx("span",{className:"material-symbols-outlined",onClick:()=>u(!i),children:i?"visibility_off":"visibility"}),e.jsx("div",{className:"input-border"})]}),e.jsx(N,{validationPassword:l})]}),e.jsx("button",{className:"core-button",type:"submit",children:"Save"})]})})}const C=[{image:"bear.png"},{image:"bee.png"},{image:"butterfly.png"},{image:"chicken.png"},{image:"elephant.png"},{image:"hedgehog.png"},{image:"hippo.png"},{image:"koala.png"},{image:"ladybug.png"},{image:"lion.png"},{image:"llama.png"},{image:"meerkat.png"},{image:"monkey.png"},{image:"panda.png"},{image:"parrot.png"},{image:"penguin.png"},{image:"polar-bear.png"},{image:"puffer-fish.png"},{image:"sea-lion.png"},{image:"sloth.png"},{image:"snake.png"},{image:"spider.png"},{image:"tiger.png"},{image:"turtle.png"},{image:"weasel.png"}];function k(){f.defaults.withCredentials=!0;const[r,d]=s.useState("bear.png"),[i,u]=s.useState(!1);s.useState({email:"",username:"",phoneNumber:""});const l=s.useRef(null),{token:c,decoded:t}=h(),o=s.useCallback(n=>{l.current&&!l.current.contains(n.target)&&u(!1)},[l]);return s.useEffect(()=>(i?document.addEventListener("mousedown",o):document.removeEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}),[i]),s.useEffect(()=>{console.log(t)},[t]),e.jsxs("form",{className:"core",children:[e.jsxs("div",{className:"core-avatar",children:[e.jsxs("div",{className:"core-avatar-selected",children:[e.jsx("img",{src:`/avatar/${r}`,alt:"Avatar's User"}),e.jsx("span",{onClick:()=>u(!0),children:"Select Avatar"})]}),i&&e.jsx("div",{className:"core-avatar-list",ref:l,children:C.map((n,p)=>e.jsx("img",{src:`/avatar/${n.image}`,alt:"Avatar List",onClick:()=>d(n.image)},p))})]}),e.jsx("div",{className:"core-role"}),e.jsxs("div",{className:"core-input",children:[e.jsxs("div",{className:"core-input-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"text",id:"email",name:"email",autoComplete:"off",value:t==null?void 0:t.email}),e.jsx("div",{className:"input-border"})]}),e.jsxs("div",{className:"core-input-group",children:[e.jsx("label",{htmlFor:"username",children:"Username"}),e.jsx("input",{type:"text",id:"username",name:"username",autoComplete:"off",value:t==null?void 0:t.username}),e.jsx("div",{className:"input-border"})]}),e.jsxs("div",{className:"core-input-group",children:[e.jsx("label",{htmlFor:"phoneNumber",children:"Phone Number"}),e.jsx("input",{type:"number",id:"phoneNumber",name:"phoneNumber",autoComplete:"off"}),e.jsx("div",{className:"input-border"})]})]}),e.jsx("button",{className:"core-button",type:"submit",children:"Save"})]})}function E({onClose:r,onOpen:d}){if(!d)return null;const{toastMessage:i,toastPromise:u,isLoading:l,submenus:c,submenuPage:t,handleSubmenuPage:o}=x(),[n,p]=s.useState(c.filter(a=>a.menu_id==="6556df8f-7cd6-4848-b39f-1e6ab4973311"&&a.default===!0)[0].name);j(),b();const{token:g,decoded:m}=h(),v=s.useCallback(a=>{p(a)},[]);return s.useEffect(()=>{console.log(t)},[t]),g?e.jsx(e.Fragment,{children:e.jsx("div",{className:"overlay-modal-menu",onClick:r,children:e.jsxs("div",{className:"modal-menu",onClick:a=>{a.stopPropagation()},children:[e.jsxs("div",{className:"modal-menu-nav",children:[e.jsx("div",{className:"modal-menu-nav-title",children:"Menu"}),c.filter(a=>a.menu_id==="6556df8f-7cd6-4848-b39f-1e6ab4973311").map(a=>e.jsxs("div",{className:`modal-menu-nav-item ${a.name===n?"active":""}`,onClick:()=>v(a.name),children:[e.jsx("div",{className:"name",children:a.name}),e.jsx("div",{className:"border-effect"})]},a.sub_menu_id))]}),e.jsxs("div",{className:"modal-menu-content",children:[e.jsxs("div",{className:"header",children:[e.jsxs("span",{className:"header-title",children:["Profile â€” ",n==="bio"?"Bio":"Password"]}),e.jsx("span",{className:"header-close material-symbols-outlined",onClick:r,children:"close"})]}),n==="bio"?e.jsx(k,{}):e.jsx(P,{})]})]})})}):e.jsx(w,{})}export{E as default};
