import{a as p,r as a,i as f,d as v,f as e,h as b}from"./index-BZSCxJql.js";import{L as g}from"./LayoutDashboard-CKRNvR8-.js";import{Error401 as D,Error403 as _}from"./Error-5CmM0YFy.js";import{H as C}from"./SupportDashboard-CxvdUq8n.js";import"./AiBuilderSupport-DIRpQrrE.js";import"./black-logo-KPU1N9jl.js";import"./Profile-CEge5jb3.js";import"./AuthSupport-CMBJa0HJ.js";function j({isLoadingDisplayUsers:n,users:t,setUserId:r,setIsUpdateModalOpen:l,setIsDeleteModalOpen:i,type:d}){return e.jsxs(e.Fragment,{children:[n&&e.jsx("div",{className:"loader-pages",children:e.jsx("div",{className:"loader-pages-item"})}),d==="grid"?e.jsx("div",{className:"display-users-grid",children:t.map(s=>e.jsxs("div",{className:"item",children:[e.jsx("div",{className:"item-name",children:s.username}),e.jsx("div",{className:"item-name",children:s.email}),e.jsx("div",{className:"item-name",children:s.phone_number}),e.jsx("div",{className:"item-name",children:s.role}),e.jsxs("div",{className:"item-action",children:[e.jsx("span",{className:"material-symbols-rounded item-action-edit",onClick:()=>{l(!0),r(s.user_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded item-action-delete",onClick:()=>{i(!0),r(s.user_id)},children:"delete"})]})]},s.user_id))}):e.jsxs("div",{className:"display-users-list",children:[e.jsxs("div",{className:"head",children:[e.jsx("div",{className:"head-col",children:"No"}),e.jsx("div",{className:"head-col",children:"Email"}),e.jsx("div",{className:"head-col",children:"Username"}),e.jsx("div",{className:"head-col",children:"Phone Number"}),e.jsx("div",{className:"head-col",children:"Role"}),e.jsx("div",{className:"head-col",children:"Action"})]}),t.map((s,c)=>e.jsxs("div",{className:"body",children:[e.jsx("dic",{className:"body-col",children:c+1}),e.jsx("div",{className:"body-col",children:s.email}),e.jsx("div",{className:"body-col",children:s.username}),e.jsx("div",{className:"body-col",children:s.phone_number}),e.jsx("div",{className:"body-col",children:s.role}),e.jsxs("div",{className:"body-col",children:[e.jsx("span",{className:"material-symbols-rounded edit",onClick:()=>{l(!0),r(s.user_id)},children:"edit_square"}),e.jsx("span",{className:"material-symbols-rounded delete",onClick:()=>{i(!0),r(s.user_id)},children:"delete"})]})]},s.user_id))]})]})}function k(){p.defaults.withCredentials=!0;const[n,t]=a.useState([]),[r,l]=a.useState(!1),[i,d]=a.useState("list"),[s,c]=a.useState(!1),[E,m]=a.useState(!1),[S,u]=a.useState(!1),[M,h]=a.useState(null),{token:x}=f(),N=a.useCallback(o=>{d(o)},[]),y=a.useCallback(async()=>{l(!0);try{const o=await p.get(v.allusers,{headers:{Authorization:`Bearer ${x}`}});t(o.data.data),l(!1)}catch(o){console.error(o),l(!1)}finally{l(!1)}},[x]);return a.useEffect(()=>{y()},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"display-users",children:[e.jsx(C,{className:"display-users",title:"Users Management â€” Display Data",activeDisplay:i,handleDisplayChange:N,setIsCreateModalOpen:c}),i==="grid"?e.jsx(j,{isLoadingDisplayUsers:r,users:n,setUserId:h,setIsUpdateModalOpen:m,setIsDeleteModalOpen:u,type:"grid"}):e.jsx(j,{isLoadingDisplayUsers:r,users:n,setUserId:h,setIsUpdateModalOpen:m,setIsDeleteModalOpen:u,type:"list"})]})})}function H(){const[n,t]=a.useState(!1),{submenuPage:r,accessMenus:l}=b(),{decoded:i,token:d}=f();return a.useEffect(()=>{l.filter(c=>c.role===(i==null?void 0:i.role)&&c.menu_id==="3e1f3895-691f-4962-af43-225d73cfcf91").length>0?t(!0):t(!1)},[l,i]),d?e.jsx(e.Fragment,{children:n?e.jsx(g,{children:r==="display data"&&e.jsx(k,{})}):e.jsx(_,{})}):e.jsx(D,{})}export{H as default};
